import{_ as w}from"./DkiIfuYp.js";import{g as b,m as v,y as g,r as y,p as N,c as d,a as s,k,s as h,l as o,d as m,t as V,z as C,A as i,B as n,b as S,w as P,o as p}from"./D1Xstx_g.js";import{u as L}from"./DivAE8d_.js";const M={class:"min-h-screen flex flex-col justify-center px-6 py-12 relative overflow-hidden"},q={class:"relative z-10 w-full max-w-md mx-auto"},z={class:"card backdrop-blur-sm bg-white/90"},B={key:0,class:"mb-6 p-4 bg-red-50 border border-red-100 rounded-2xl text-red-600 text-sm font-medium flex items-center gap-3 shadow-sm"},U={class:"grid grid-cols-2 gap-4"},j=["disabled"],D={key:0,class:"flex items-center gap-2"},A={key:1},R={class:"mt-8 text-center"},E={class:"text-gray-500 text-sm font-medium"},J=b({__name:"register",setup(T){const r=L(),f=v(),t=g({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),a=y("");async function c(){if(a.value="",t.password!==t.confirmPassword){a.value="Les mots de passe ne correspondent pas";return}if(t.password.length<8){a.value="Le mot de passe doit contenir au moins 8 caractÃ¨res";return}const u=await r.register({firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password});u.success?f.push("/"):a.value=u.message}return N(()=>{r.init(),r.isLoggedIn&&f.push("/")}),(u,e)=>{const x=w;return p(),d("div",M,[e[16]||(e[16]=s("div",{class:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary-400/20 rounded-full blur-3xl pointer-events-none"},null,-1)),e[17]||(e[17]=s("div",{class:"absolute bottom-[-10%] right-[-20%] w-[400px] h-[400px] bg-secondary-400/20 rounded-full blur-3xl pointer-events-none"},null,-1)),s("div",q,[e[15]||(e[15]=k('<div class="text-center mb-10"><div class="text-6xl mb-4 inline-block drop-shadow-md">ðŸš€</div><h1 class="text-3xl font-bold mb-2 text-dark-900"> Rejoindre <span class="text-gradient">FoodSync</span></h1><p class="text-gray-500 font-medium">Commencez Ã  Ã©conomiser dÃ¨s aujourd&#39;hui</p></div>',1)),s("div",z,[e[14]||(e[14]=s("h2",{class:"text-xl font-bold text-dark-900 mb-8 text-center"},"CrÃ©er un compte âœ¨",-1)),o(a)?(p(),d("div",B,[e[5]||(e[5]=s("span",{class:"text-xl"},"âš ï¸",-1)),m(" "+V(o(a)),1)])):h("",!0),s("form",{onSubmit:C(c,["prevent"]),class:"space-y-5"},[s("div",U,[s("div",null,[e[6]||(e[6]=s("label",{for:"firstName",class:"label"},"PrÃ©nom",-1)),i(s("input",{id:"firstName","onUpdate:modelValue":e[0]||(e[0]=l=>o(t).firstName=l),type:"text",required:"",class:"input",placeholder:"Jean",autocomplete:"given-name"},null,512),[[n,o(t).firstName]])]),s("div",null,[e[7]||(e[7]=s("label",{for:"lastName",class:"label"},"Nom",-1)),i(s("input",{id:"lastName","onUpdate:modelValue":e[1]||(e[1]=l=>o(t).lastName=l),type:"text",required:"",class:"input",placeholder:"Dupont",autocomplete:"family-name"},null,512),[[n,o(t).lastName]])])]),s("div",null,[e[8]||(e[8]=s("label",{for:"email",class:"label"},"Email",-1)),i(s("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=l=>o(t).email=l),type:"email",required:"",class:"input",placeholder:"votre@email.com",autocomplete:"email"},null,512),[[n,o(t).email]])]),s("div",null,[e[9]||(e[9]=s("label",{for:"password",class:"label"},"Mot de passe",-1)),i(s("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=l=>o(t).password=l),type:"password",required:"",minlength:"8",class:"input",placeholder:"Minimum 8 caractÃ¨res",autocomplete:"new-password"},null,512),[[n,o(t).password]])]),s("div",null,[e[10]||(e[10]=s("label",{for:"confirmPassword",class:"label"},"Confirmer",-1)),i(s("input",{id:"confirmPassword","onUpdate:modelValue":e[4]||(e[4]=l=>o(t).confirmPassword=l),type:"password",required:"",class:"input",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",autocomplete:"new-password"},null,512),[[n,o(t).confirmPassword]])]),s("button",{type:"submit",class:"w-full btn-primary py-4 mt-2 text-lg shadow-primary-500/30 hover:shadow-primary-500/50",disabled:o(r).isLoading},[o(r).isLoading?(p(),d("span",D,[...e[11]||(e[11]=[s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" CrÃ©ation... ",-1)])])):(p(),d("span",A,"S'inscrire"))],8,j)],32),s("div",R,[s("p",E,[e[13]||(e[13]=m(" DÃ©jÃ  un compte ? ",-1)),S(x,{to:"/login",class:"text-primary-600 font-bold hover:text-primary-700 transition-colors"},{default:P(()=>[...e[12]||(e[12]=[m(" Se connecter ",-1)])]),_:1})])])])])])}}});export{J as default};
